<div [formGroup]="taskConfigForm">
    <h5>Task: {{task.type}}</h5>
    
    <mat-form-field class="full-width-input">
        <mat-label>Provider</mat-label>
        <input matInput formControlName="provider" readonly />
        <mat-error *ngIf="isFieldInvalid('provider')">
            The task provider "{{task.provider}}" needs to be registered
        </mat-error>
    </mat-form-field>

    <div *ngIf="taskProvider">
        <mat-form-field class="full-width-input" *ngFor="let requiredService of taskProvider.requiredServices">
            <mat-label>{{requiredService}}ExternalService</mat-label>
            <input matInput formControlName="{{requiredService}}ExternalService" />
            <mat-error *ngIf="isFieldInvalid(requiredService + 'ExternalService')">
                {{getServiceFieldError(requiredService + 'ExternalService')}}
            </mat-error>
        </mat-form-field>
    </div>

    <app-clone-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-clone-task-config-form>
    <app-generate-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-generate-task-config-form>
    <app-push-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-push-task-config-form>
    <app-merge-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-merge-task-config-form>
    <app-build-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-build-task-config-form>
    <app-deploy-db-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-deploy-db-task-config-form>
    <app-deploy-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-deploy-task-config-form>
    <app-test-task-config-form [taskType]="task.type" (formReady)="onTaskConfigFormReady($event)"></app-test-task-config-form>
    <app-additional-config-form></app-additional-config-form>
</div>